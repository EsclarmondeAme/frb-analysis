import numpy as np
import json

# full table reconstructed from your terminal output
# each entry = (l, m, f0, gamma, Q, Pmax)
entries = [
    (0,0,0.00000,0.01250,0.00,0.000e+00),
    (1,-1,0.16785,0.06736,1.25,1.597e-03),
    (1,0,0.31210,0.13133,1.19,2.217e-03),
    (1,1,0.16785,0.06736,1.25,1.597e-03),

    (2,-2,0.24284,0.08922,1.36,3.241e-03),
    (2,-1,0.18116,0.05190,1.75,2.552e-03),
    (2,0,0.31939,0.16527,0.97,1.078e-02),
    (2,1,0.18116,0.05190,1.75,2.552e-03),
    (2,2,0.24284,0.08922,1.36,3.241e-03),

    (3,-3,0.35023,0.01601,10.94,1.040e-03),
    (3,-2,0.20550,0.08282,1.24,2.233e-03),
    (3,-1,0.18507,0.02146,4.31,3.049e-03),
    (3,0,0.24958,0.51686,0.24,8.281e-03),
    (3,1,0.18507,0.02146,4.31,3.049e-03),
    (3,2,0.20550,0.08282,1.24,2.233e-03),
    (3,3,0.35023,0.01601,10.94,1.040e-03),

    (4,-4,0.23927,0.09420,1.27,1.063e-03),
    (4,-3,0.41477,0.00646,32.12,1.293e-03),
    (4,-2,np.nan,np.nan,np.nan,1.484e-03),
    (4,-1,np.nan,np.nan,np.nan,2.082e-03),
    (4,0,0.05795,0.07199,0.40,1.240e-03),
    (4,1,np.nan,np.nan,np.nan,2.082e-03),
    (4,2,np.nan,np.nan,np.nan,1.484e-03),
    (4,3,0.41477,0.00646,32.12,1.293e-03),
    (4,4,0.23927,0.09420,1.27,1.063e-03),

    (5,-5,0.45367,0.09248,2.45,6.888e-04),
    (5,-4,0.26960,0.10233,1.32,2.261e-03),
    (5,-3,np.nan,np.nan,np.nan,1.506e-03),
    (5,-2,0.13036,0.10824,0.60,3.605e-03),
    (5,-1,np.nan,np.nan,np.nan,1.457e-03),
    (5,0,0.23665,0.06447,1.84,5.684e-03),
    (5,1,np.nan,np.nan,np.nan,1.457e-03),
    (5,2,0.13036,0.10824,0.60,3.605e-03),
    (5,3,np.nan,np.nan,np.nan,1.506e-03),
    (5,4,0.26960,0.10233,1.32,2.261e-03),
    (5,5,0.45367,0.09248,2.45,6.888e-04),

    (6,-6,np.nan,np.nan,np.nan,8.465e-04),
    (6,-5,0.44736,0.07437,3.01,1.883e-03),
    (6,-4,0.29550,0.08897,1.66,2.164e-03),
    (6,-3,0.42999,0.07059,3.05,1.930e-03),
    (6,-2,0.14857,0.10663,0.70,5.147e-03),
    (6,-1,0.17031,0.10374,0.82,3.360e-03),
    (6,0,0.19650,0.00671,14.65,8.109e-03),
    (6,1,0.17031,0.10374,0.82,3.360e-03),
    (6,2,0.14857,0.10663,0.70,5.147e-03),
    (6,3,0.42999,0.07059,3.05,1.930e-03),
    (6,4,0.29550,0.08897,1.66,2.164e-03),
    (6,5,0.44736,0.07437,3.01,1.883e-03),
    (6,6,np.nan,np.nan,np.nan,8.465e-04),

    (7,-7,0.30328,0.15513,0.98,1.163e-03),
    (7,-6,0.39682,0.08100,2.45,1.178e-03),
    (7,-5,0.17390,0.07202,1.21,3.214e-03),
    (7,-4,0.27058,0.06500,2.08,8.662e-04),
    (7,-3,0.34547,0.07335,2.35,1.976e-03),
    (7,-2,0.20221,0.05979,1.69,4.794e-03),
    (7,-1,0.15938,0.11495,0.69,4.518e-03),
    (7,0,0.19277,0.01856,5.19,6.680e-03),
    (7,1,0.15938,0.11495,0.69,4.518e-03),
    (7,2,0.20221,0.05979,1.69,4.794e-03),
    (7,3,0.34547,0.07335,2.35,1.976e-03),
    (7,4,0.27058,0.06500,2.08,8.662e-04),
    (7,5,0.17390,0.07202,1.21,3.214e-03),
    (7,6,0.39682,0.08100,2.45,1.178e-03),
    (7,7,0.30328,0.15513,0.98,1.163e-03),

    (8,-8,0.32608,0.11476,1.42,2.026e-03),
    (8,-7,0.35854,0.11292,1.59,2.243e-03),
    (8,-6,0.33525,0.11225,1.49,4.507e-04),
    (8,-5,0.18100,0.01324,6.83,2.921e-03),
    (8,-4,0.43259,0.04156,5.20,2.929e-04),
    (8,-3,0.34008,0.05300,3.21,1.476e-03),
    (8,-2,np.nan,np.nan,np.nan,2.813e-03),
    (8,-1,np.nan,np.nan,np.nan,4.964e-03),
    (8,0,0.18146,0.06970,1.30,3.974e-03),
    (8,1,np.nan,np.nan,np.nan,4.964e-03),
    (8,2,np.nan,np.nan,np.nan,2.813e-03),
    (8,3,0.34008,0.05300,3.21,1.476e-03),
    (8,4,0.43259,0.04156,5.20,2.929e-04),
    (8,5,0.18100,0.01324,6.83,2.921e-03),
    (8,6,0.33525,0.11225,1.49,4.507e-04),
    (8,7,0.35854,0.11292,1.59,2.243e-03),
    (8,8,0.32608,0.11476,1.42,2.026e-03),
]

# convert to a structured dict
table = []
for (l,m,f0,gamma,Q,Pmax) in entries:
    table.append({
        "l": l,
        "m": m,
        "f0": float(f0) if not np.isnan(f0) else None,
        "gamma": float(gamma) if not np.isnan(gamma) else None,
        "Q": float(Q) if not np.isnan(Q) else None,
        "Pmax": float(Pmax)
    })

# save numpy
np.save("test107A_results.npy", table)

# save json
with open("test107A_results.json","w") as f:
    json.dump(table, f, indent=2)

print("saved test107A_results.npy and test107A_results.json")
